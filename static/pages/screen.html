<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../styles/index.css" rel="stylesheet">
  <title>Screen</title>
</head>
<body>
  <div class="page-body__container">
    <h3>Screen</h3>
    <p>
      Утилита <strong>Screen</strong> позволяет создавать несколько экранов и переключаться между ними.
      <strong>Screen</strong> полностью решает проблему выполнения операций при разрывах соединения.
      Запустил команду в отдельном экране и можешь смело отключаться.
      Потом просто подключаешься и переходишь на нужный экран. Сессия при этом не теряется.
    </p>
    <p>
      По умолчанию screen не является стандартной утилитой в большинстве дистрибутивов, но работает везде одинаково.
      Чтобы установить утилиту, введите следующую команду:
      <pre><code>apt install screen</code></pre>
    </p>

    <h3>Основные команды screen</h3>
    <p>
      Откройте терминал. Для запуска первого окна наберите:
      <pre><code>screen</code></pre>
    </p>
    <p>
      Создастся новая сессия программы и появится приветственное сообщение. Для его закрытия нужно нажать <kbd>Space</kbd> или <kbd>Enter</kbd>.
    </p>
    <img src="../img/screen/1.jpg" alt="" width="600" height="360">
    <p>
      Все управляющие команды начинаются с комбинации клавиш <kbd>Ctrl + a</kbd>, затем следует буква или сочетание клавиш.
      Буквы разных регистров выполняют разные команды. Также сочетания можно заменять текстом. Для его ввода нажмите <kbd>Ctrl + a</kbd> и <kbd>:</kbd>, после чего вводите текст.

      Например, чтобы создать новое окно, нажмите по очереди сочетание <kbd>Ctrl + a</kbd> и затем <kbd>c</kbd>. Для просмотра списка созданных окон нажмите <kbd>Ctrl + a</kbd> и <kbd>w</kbd>.
    </p>
    <img src="../img/screen/2.jpg" alt="" width="600" height="360">
    <p>
      Для перехода в любое из созданных окон сессии используется комбинация <kbd>Ctrl + a</kbd> и <strong>номер</strong>, который за ним закреплён, или <kbd>Ctrl + a</kbd> и <kbd>"</kbd>, после чего нужно выбрать стрелками необходимое.
      Для последовательного перехода используйте <kbd>Ctrl + a</kbd> и <kbd>n</kbd> (следующее окно) или <kbd>p</kbd> (предыдущее окно).
    </p>
    <img src="../img/screen/3.jpg" alt="" width="600" height="360">
    <p>
      Чтобы разделить экран по горизонтали, нажмите <kbd>Ctrl + a</kbd> и <kbd>s</kbd>.
      Или используйте команду
      <pre><code>split</code></pre>
    </p>
    <img src="../img/screen/4.jpg" alt="" width="600" height="360">
    <p>
      Будет создано новое окно снизу от текущего, (при этом оно не становится активным).
      Чтобы разделить по вертикали, нажмите <kbd>Ctrl + a</kbd> и <kbd>|</kbd>.
      Или используйте команду
      <pre><code>split -v</code></pre>
    </p>
    <img src="../img/screen/5.jpg" alt="" width="600" height="360">
    <p>
      Были созданы новые пустые окна. Для переключения между ними используйте <kbd>Ctrl + a</kbd> и <kbd>Tab</kbd>.
      
      Для скрытия окна используйте <kbd>Ctrl + a</kbd> и <kbd>x</kbd>.
    </p>
    <p>
      Чтобы скрыть все окна и оставить только текущее, используйте <kbd>Ctrl + a</kbd> и <kbd>q</kbd>.
    </p>
    <p>
      Переименовать окно можно с помощью <kbd>Ctrl + a</kbd> и <kbd>a</kbd>. Внизу появится строка с возможностью заменить старое название.
    </p>
    <img src="../img/screen/6.jpg" alt="" width="600" height="80">
    <p>
      Чтобы скрыть все окна сессии, нажмите <kbd>Ctrl + a</kbd> и <kbd>\</kbd>.
      Подтвердите решение нажатием <kbd>y</kbd>. Для выхода из менеджера окон нажмите <kbd>Ctrl + a</kbd> и <kbd>d</kbd>.
    </p>
    <p>Команда <strong>screen</strong> обладает большим набором горячих клавиш. Полный их список можно посмотреть с помощью <kbd>Ctrl + a</kbd> и <kbd>?</kbd>.</p>
    <img src="../img/screen/7.jpg" alt="" width="600" height="460">
    <p>
      При создании новой сессии <strong>screen</strong> можно задать ей имя. Таким образом можно создать несколько сессий.
      Чтобы сделать это, используйте параметр <strong>-S</strong>, после которого укажите название.
      <pre><code>screen -S имя_сессии</code></pre>
    </p>
    <p>
      Посмотреть список запущенных сессий можно командой
      <pre><code>screen -ls</code></pre>
    </p>
    <img src="../img/screen/8.jpg" alt="" width="600" height="460">
    <p>
      Строка, идентифицирующая сессию, состоит из нескольких полей: id, название и статус.
    </p>
    <p>
      Значение <strong>id</strong> отображается в списке всех запущенных процессов. Это означает, что его можно завершить с помощью команды <strong>kill</strong>.
      Завершить работу текущего окна можно с помощью комбинации <kbd>Ctrl + a</kbd> и <kbd>k</kbd>, подтвердите решение нажатием <kbd>y</kbd>.
    </p>
    <p>
      Статус может иметь два состояния: <strong>Attached</strong> (задействован) и <strong>Detached</strong> (незадействован).
      Второе состояние у сессий, в которых ещё не происходили никакие процессы.
    </p>
    <p>
      Чтобы перейти в нужную сессию, следует указать параметру <strong>-r</strong> её <strong>id</strong> или название.
      <pre><code>screen -r id_сессии</code></pre>
    </p>
  </div>
</body>
</html>